<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>overseer.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Overseer 0.6.10 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>overseer</span></div></div></li><li class="depth-2 branch"><a href="overseer.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2 branch current"><a href="overseer.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="overseer.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-2"><a href="overseer.status.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>status</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="overseer.core.html#var--.3Ejob-entity"><div class="inner"><span>-&gt;job-entity</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-ent-dependents"><div class="inner"><span>ent-dependents</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-job-assertion"><div class="inner"><span>job-assertion</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-job-assertions-by-type"><div class="inner"><span>job-assertions-by-type</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-job-dep-edges"><div class="inner"><span>job-dep-edges</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-missing-dependencies"><div class="inner"><span>missing-dependencies</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-missing-handlers"><div class="inner"><span>missing-handlers</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-reserve"><div class="inner"><span>reserve</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-status-txn"><div class="inner"><span>status-txn</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-transitive-dependents"><div class="inner"><span>transitive-dependents</span></div></a></li><li class="depth-1"><a href="overseer.core.html#var-update-job-status-txns"><div class="inner"><span>update-job-status-txns</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">overseer.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var--.3Ejob-entity"><h3>-&gt;job-entity</h3><div class="usage"><code>(-&gt;job-entity db job-id)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-ent-dependents"><h3>ent-dependents</h3><div class="usage"><code>(ent-dependents db ent)</code></div><div class="doc"><pre class="plaintext">Find all jobs entities that depend on ent
</pre></div></div><div class="public anchor" id="var-job-assertion"><h3>job-assertion</h3><div class="usage"><code>(job-assertion job-type tx)</code></div><div class="doc"><pre class="plaintext">Construct a single job assertion, given a type and optional
user-provided txn data</pre></div></div><div class="public anchor" id="var-job-assertions-by-type"><h3>job-assertions-by-type</h3><div class="usage"><code>(job-assertions-by-type job-types tx)</code></div><div class="doc"><pre class="plaintext">Construct a map of {:job-type =&gt; assertion} with optional
txn data merged onto each assertion</pre></div></div><div class="public anchor" id="var-job-dep-edges"><h3>job-dep-edges</h3><div class="usage"><code>(job-dep-edges graph jobs-by-type)</code></div><div class="doc"><pre class="plaintext">Construct a list of assertions to of the graph edges, i.e marking
job dependencies</pre></div></div><div class="public anchor" id="var-missing-dependencies"><h3>missing-dependencies</h3><div class="usage"><code>(missing-dependencies graph)</code></div><div class="doc"><pre class="plaintext">Compute dependencies that have been referenced but not
specified in a graph, if any</pre></div></div><div class="public anchor" id="var-missing-handlers"><h3>missing-handlers</h3><div class="usage"><code>(missing-handlers handlers graph)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-reserve"><h3>reserve</h3><div class="usage"><code>(reserve conn job-id)</code></div><div class="doc"><pre class="plaintext">Transact the DB to reserve the given job, or throw an exception.
Requires the overseer.schema/reserve-job database function to be in-schema.</pre></div></div><div class="public anchor" id="var-status-txn"><h3>status-txn</h3><div class="usage"><code>(status-txn {:keys [overseer/status overseer/failure]} job-id)</code></div><div class="doc"><pre class="plaintext">Construct a single job update status txn
</pre></div></div><div class="public anchor" id="var-transitive-dependents"><h3>transitive-dependents</h3><div class="usage"><code>(transitive-dependents db job-id)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-update-job-status-txns"><h3>update-job-status-txns</h3><div class="usage"><code>(update-job-status-txns db job-id {:keys [overseer/status], :as status-map})</code></div><div class="doc"><pre class="plaintext">Construct a seq of txns for updating a job&apos;s status
If job was aborted, then also abort all its dependents</pre></div></div></div></body></html>